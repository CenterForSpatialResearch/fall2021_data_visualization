<!DOCTYPE html>
<html>
<head>
     <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="../favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <title>basic located</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    
    
    
<script type="text/javascript" src="https://d3js.org/d3.v5.min.js"></script>
  
    
    <style>
      
    </style>
</head>
<body>
    <div id="button">button</div>
</div>
		<script type="text/javascript"> 
            var w = 2500
            var h = 800
        d3.csv("zhoukenny_LATE_533568_12478205_temp_pie_line_dataset_d3reviewhw.csv")
        .then(function(data){
            
            // we need just 1 svg, so put it here
       
            var svg = d3.select("body").append("svg").attr("width",w).attr("height",h)
            
            var colors1 = ["#fb444c","#1e75ba","#6656a4","#f9d1dc","#c6e4f2","#dbcdfb"]
           
           
            pieChart(data,"c2017",100,120,svg,colors1,300)
            pieChart(data,"c2018",120,140,svg,colors1,300)
            pieChart(data,"c2019",140,160,svg,colors1,300)
            pieChart(data,"c2020",160,180,svg,colors1,300)
            pieChart(data,"c2021",180,200,svg,colors1,300)
			
            d3.select("#button")
            .on("click",function(){
                d3.selectAll(".c2017").transition().duration(1000)
                 .attr("transform", "translate(" + 2000+ "," + h/2+ ")");
                 
                d3.selectAll(".c2018").transition().duration(1000).delay(1000)
                 .attr("transform", "translate(" + 1700+ "," + h/2+ ")");
                 
                d3.selectAll(".c2019").transition().duration(1000).delay(2000)
                 .attr("transform", "translate(" + 1350+ "," + h/2+ ")");
                 
                d3.selectAll(".c2020").transition().duration(1000).delay(3000)
                 .attr("transform", "translate(" + 950+ "," + h/2+ ")");
                 
                d3.selectAll(".c2021").transition().duration(1000).delay(4000)
                 .attr("transform", "translate(" + 500+ "," + h/2+ ")");
                
            })
        })
            
            
    function pieChart(data,column,inner,outer,svg,colors,x){
            //basic svg setup        
        var pie = d3.pie();
        var arc = d3.arc().innerRadius(inner).outerRadius(outer)
      
        var array = []
        for(var d in data){
            array.push(data[d][column])
        }
        
        var arcs = svg.selectAll("g.arc")
                .data(pie(array))
                .enter()
                .append("g")
                .attr("class",column)
                .attr("transform", "translate(" + x+ "," + h/2+ ")")
                .append("path")
                .attr("fill", function(d, i) {
                    return colors[i];
                })
                .attr("stroke","#ffffff")
                .attr("stroke-width",2)
                .attr("d", arc);
    } 
	
	   

</script>
</body>
</html>